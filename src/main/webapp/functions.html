<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<h2>Event Details from JSON</h2>
<p id="demoEvent">a1</p>
<p id="demoEventAlt">a2</p>
<p id="show"></p>
<div id="testing">
  <button type="button" onclick="loadXMLDoc()">Request</button>
</div>


<!-- Create events form -->
<div class="w3-container w3-padding-64 w3-large" id="create">
  <div class="container">

    <form id="form1" method="post" action="create_event.php" style="max-width:500px;margin:auto">
      <center><h2>Create a event</h2></center>
      <div class="input-container">
        <i class="fa fa-pencil-square-o icon"></i>
        <input class="input-field" type="text" placeholder="Name of the event?" name="event1">
      </div>
      <button type="submit" class="btn" onclick="send">Submit</button>
    </form>

  </div>
</div>


<script>
function loadXMLDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("show").innerHTML =
      this.responseText;
    }
  };
  xhttp.open("GET", "abc.txt", true);
  xhttp.send();
}

function submitForm() {
    alert("Sending Json");
    var http = new XMLHttpRequest();
    var url = "abc.txt";
    var formData = JSON.stringify($("#form1").serializeArray());

    http.open("POST", "abc.txt", true);
    http.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');

    http.send(formData);
}



</script>








<!--function retrieveForm() {-->

<!--}-->



<!--//get data from server using XMLHttpRequest-->

<!--var xmlhttp = new XMLHttpRequest();-->
<!--xmlhttp.onreadystatechange = function() {-->
<!--if (this.readyState == 4 && this.status == 200) {-->
<!--var myEvent = JSON.parse(this.responseText);-->
<!--document.getElementById("demoEvent").innerHTML = myEvent.id;-->
<!--}-->
<!--};-->
<!--xmlhttp.open("GET", "Event.txt", true);-->
<!--xmlhttp.send();-->

<!--//convert JSON to JavaScript-->
<!--var obj = JSON.parse('{ "id":"1", "name":"DemoEvent", "date": "30-05-2018", "time":"1900", "location":"Imperial", "capacity":"100" }' );-->
<!--document.getElementById("demoEvent").innerHTML = "Welcome to " + obj.name + ", Held on " + obj.date + ", At " + obj.location;-->

<!--//convert JSON to string-->
<!--var jason =  JSON.stringify(obj);-->
<!--document.getElementById("demoEventAlt").innerHTML = jason;-->

<!--&lt;!&ndash;//Store data&ndash;&gt;-->
<!--&lt;!&ndash;myObj = { "id":"1", "name":"DemoEvent", "Date": "30-05-2018, "Time":"1900", "location":"Imperial", "Capacity":"100" };&ndash;&gt;-->
<!--&lt;!&ndash;myJSON = JSON.stringify(myObj);&ndash;&gt;-->
<!--&lt;!&ndash;localStorage.setItem("testJSON", myJSON);&ndash;&gt;-->

<!--&lt;!&ndash;//Retrieve data&ndash;&gt;-->
<!--&lt;!&ndash;text = localStorage.getItem("testJSON");&ndash;&gt;-->
<!--&lt;!&ndash;obj = JSON.parse(text);&ndash;&gt;-->
<!--&lt;!&ndash;document.getElementById("demo").innerHTML = obj.name;&ndash;&gt;-->


<!--function submitForm() {-->
<!--alert("Sending Json");-->
<!--var http = new XMLHttpRequest();-->
<!--var url = "abc.txt";-->
<!--var formData = JSON.stringify($("#form1").serializeArray());-->

<!--http.open("POST", "abc.txt", true);-->
<!--http.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');-->

<!--http.send(formData);-->
<!--}-->










</body>
</html>